(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{391:function(e,t,n){"use strict";n.r(t);var a=n(1),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("å†…å­˜æ³„æ¼\n")]),e._v(" "),n("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Ÿ")]),e._v(" "),n("p",[e._v("ç³»ç»Ÿè¿›ç¨‹ä¸åœ¨ç”¨åˆ°çš„å†…å­˜æ²¡æœ‰åŠæ—¶é‡Šæ”¾ï¼Œå°±å«åšå†…å­˜æ³„æ¼ï¼ˆmemory leakï¼‰ã€‚å½“å†…å­˜å ç”¨è¶Šæ¥è¶Šé«˜ï¼Œè½»åˆ™å½±å“ç³»ç»Ÿçš„æ€§èƒ½ï¼Œé‡åˆ™å¯¼è‡´ç³»ç»Ÿè¿›ç¨‹å´©æºƒã€‚Chromeé™åˆ¶äº†æµè§ˆå™¨æ‰€èƒ½ä½¿ç”¨çš„å†…å­˜æé™ï¼ˆ64ä½ä¸º1.4GBï¼Œ32ä½ä¸º1.0GBï¼‰")]),e._v(" "),n("h2",{attrs:{id:"å¼•èµ·å†…å­˜æ³„éœ²çš„åŸå› "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¼•èµ·å†…å­˜æ³„éœ²çš„åŸå› "}},[e._v("#")]),e._v(" å¼•èµ·å†…å­˜æ³„éœ²çš„åŸå› ")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("æ„å¤–çš„å…¨å±€å˜é‡")]),e._v("\nç”±äºjså¯¹æœªå£°æ˜å˜é‡çš„å¤„ç†æ–¹å¼æ˜¯åœ¨å…¨å±€å¯¹è±¡ä¸Šåˆ›å»ºè¯¥å˜é‡çš„å¼•ç”¨ã€‚å¦‚æœåœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€çš„å¯¹è±¡å°±æ˜¯windowså¯¹è±¡ã€‚å˜é‡åœ¨çª—å£å…³é—­æˆ–è€…é‡æ–°åˆ·æ–°é¡µé¢ä¹‹å‰éƒ½ä¸ä¼šè¢«é‡Šæ”¾ï¼Œå¦‚æœæœªå£°æ˜çš„å˜é‡ç¼“å­˜å¤§é‡çš„æ•°æ®ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚")])]),e._v(" "),n("p",[n("code",[e._v("æœªå£°æ˜å˜é‡")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("functionÂ fn()Â {Â Â \n    aÂ =Â 'globalÂ variable'\n  }\n  fn()\n")])])]),n("p",[n("code",[e._v("ä½¿ç”¨thisåˆ›å»ºçš„å˜é‡ï¼ˆthisçš„æŒ‡å‘æ˜¯windowsï¼‰")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("function fn(){ \n  this.a='global'\n }\n fn()\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼š")]),e._v(" "),n("ul",[n("li",[e._v("é¿å…åˆ›å»ºå…¨å±€å˜é‡")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œåœ¨"),n("code",[e._v("JavaScript")]),e._v("æ–‡ä»¶å¤´éƒ¨æˆ–è€…å‡½æ•°çš„é¡¶éƒ¨åŠ ä¸Š"),n("code",[e._v("use strict")]),e._v("ã€‚")])]),e._v(" "),n("h2",{attrs:{id:"é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„éœ²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„éœ²"}},[e._v("#")]),e._v(" é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„éœ²")]),e._v(" "),n("p",[e._v("åŸå› :é—­åŒ…å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œç„¶åè®©è¿™äº›å˜é‡å§‹ç»ˆä¿å­˜åœ¨å˜é‡ä¸­ã€‚å¦‚æœåœ¨ä½¿ç”¨ç»“æŸåæ²¡æœ‰å°†å±€éƒ¨å˜é‡æ¸…é™¤ï¼Œå°±å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('functionÂ fnÂ ()Â {Â \n  varÂ aÂ =Â "I\'mÂ a";Â Â \n    returnÂ \n  functionÂ ()Â {Â Â Â Â \n    console.log(a)Â Â \n    }\n  }\n')])])]),n("p",[n("code",[e._v("è§£å†³")]),e._v("ï¼šå°†äº‹ä»¶å¤„ç†å‡½æ•°å®šä¹‰åœ¨å¤–éƒ¨ï¼Œè§£é™¤é—­åŒ…ï¼Œæˆ–è€…åœ¨å®šä¹‰äº‹ä»¶å¤„ç†çš„å‡½æ•°çš„å¤–éƒ¨å‡½æ•°ä¸­ã€‚")]),e._v(" "),n("p",[n("code",[e._v("æ¯”å¦‚")]),e._v("ï¼šåœ¨å¾ªç¯ä¸­çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œèƒ½å¤ç”¨æœ€å¥½æ”¾åœ¨å¾ªç¯å¤–é¢ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//Â bad\nforÂ (varÂ kÂ =Â 0;Â kÂ <Â 10;Â k++)Â {Â \n      varÂ tÂ =Â functionÂ (a)Â {Â Â Â Â \n      //Â åˆ›å»ºäº†10æ¬¡Â Â å‡½æ•°å¯¹è±¡ã€‚Â Â Â Â \n      console.log(a)Â \n      }Â \n    t(k)} \n//Â good\nfunctionÂ t(a)Â {Â Â \n  console.log(a)}\n  forÂ (varÂ kÂ =Â 0;Â kÂ <Â 10;Â k++)Â {Â \n    t(k)}tÂ =Â null\n  }\n")])])]),n("h2",{attrs:{id:"æ²¡æœ‰æ¸…ç†çš„domå…ƒç´ å¼•ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ²¡æœ‰æ¸…ç†çš„domå…ƒç´ å¼•ç”¨"}},[e._v("#")]),e._v(" æ²¡æœ‰æ¸…ç†çš„DOMå…ƒç´ å¼•ç”¨")]),e._v(" "),n("p",[n("code",[e._v("åŸå› ")]),e._v("ï¼šè™½ç„¶åˆ«çš„åœ°æ–¹åˆ é™¤äº†ï¼Œä½†æ˜¯å¯¹è±¡ä¸­è¿˜å­˜åœ¨å¯¹domçš„å¼•ç”¨ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//Â åœ¨å¯¹è±¡ä¸­å¼•ç”¨DOM\nvarÂ elementsÂ =Â {Â Â \n     btn:Â document.getElementById('btn')\n}\nfunctionÂ doSomeThing()Â {Â \n    Â elements.btn.click()\n} \nfunctionÂ removeBtn()Â {Â Â \n//Â å°†bodyä¸­çš„btnç§»é™¤,Â ä¹Ÿå°±æ˜¯ç§»é™¤Â DOMæ ‘ä¸­çš„btnÂ Â \n   document.body.removeChild(document.getElementById('button'))Â \n//Â ä½†æ˜¯æ­¤æ—¶å…¨å±€å˜é‡elementsè¿˜æ˜¯ä¿ç•™äº†å¯¹btnçš„å¼•ç”¨,Â btnè¿˜æ˜¯å­˜åœ¨äºå†…å­˜ä¸­,ä¸èƒ½è¢«GCå›æ”¶\n}\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼šæ‰‹åŠ¨åˆ é™¤ï¼Œelements.btn = null")]),e._v(" "),n("h2",{attrs:{id:"è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ"}},[e._v("#")]),e._v(" è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ")]),e._v(" "),n("p",[e._v("å®šæ—¶å™¨ä¸­æœ‰domçš„å¼•ç”¨ï¼Œå³ä½¿domåˆ é™¤äº†ï¼Œä½†æ˜¯å®šæ—¶å™¨è¿˜åœ¨ï¼Œæ‰€ä»¥å†…å­˜ä¸­è¿˜æ˜¯æœ‰è¿™ä¸ªdomã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//Â å®šæ—¶å™¨\nvarÂ serverDataÂ =Â loadData()setInterval(\nfunctionÂ ()Â {Â Â \n  varÂ rendererÂ =Â document.getElementById('renderer')Â Â \n  ifÂ (renderer)Â {Â Â Â Â \n      renderer.innerHTMLÂ =Â JSON.stringify(serverData)Â Â \n  }},Â 5000) \n  //Â è§‚å¯Ÿè€…æ¨¡å¼\n varÂ btnÂ =Â document.getElementById('btn')\n functionÂ onClick(element)Â {Â Â \n    element.innerHTMlÂ =Â \"I'mÂ innerHTML\"\n  }\n btn.addEventListener('click',Â onClick)\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼š")]),e._v(" "),n("ul",[n("li",[e._v("æ‰‹åŠ¨åˆ é™¤å®šæ—¶å™¨å’Œdomã€‚")]),e._v(" "),n("li",[n("code",[e._v("removeEventListener")]),e._v("ç§»é™¤äº‹ä»¶ç›‘å¬ã€‚")])]),e._v(" "),n("h2",{attrs:{id:"vueä¸­å®¹æ˜“å‡ºç°å†…å­˜æ³„éœ²çš„å‡ ç§æƒ…å†µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vueä¸­å®¹æ˜“å‡ºç°å†…å­˜æ³„éœ²çš„å‡ ç§æƒ…å†µ"}},[e._v("#")]),e._v(" vueä¸­å®¹æ˜“å‡ºç°å†…å­˜æ³„éœ²çš„å‡ ç§æƒ…å†µ")]),e._v(" "),n("p",[e._v("åœ¨Vue SPAå¼€å‘åº”ç”¨ä¸­ï¼Œé‚£ä¹ˆå°±æ›´è¦å½“å¿ƒå†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚å› ä¸ºåœ¨SPAçš„è®¾è®¡ä¸­ï¼Œç”¨æˆ·ä½¿ç”¨å®ƒæ—¶æ˜¯ä¸éœ€è¦åˆ·æ–°æµè§ˆå™¨çš„ï¼Œæ‰€ä»¥åœ¨JavaScriptåº”ç”¨éœ€è¦è‡ªè¡Œæ¸…ç†ç»„ä»¶æ¥ç¡®ä¿åƒåœ¾å›æ”¶ä»¥é¢„æœŸçš„æ–¹å¼ç”Ÿæ•ˆã€‚å› æ­¤å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ éœ€è¦æ—¶åˆ»è­¦æƒ•å†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚")]),e._v(" "),n("h2",{attrs:{id:"å…¨å±€å˜é‡åœ¨æˆçš„å†…å­˜æ³„éœ²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€å˜é‡åœ¨æˆçš„å†…å­˜æ³„éœ²"}},[e._v("#")]),e._v(" å…¨å±€å˜é‡åœ¨æˆçš„å†…å­˜æ³„éœ²")]),e._v(" "),n("p",[e._v("å£°æ˜çš„å…¨å±€å˜é‡åœ¨åˆ‡æ¢é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ¸…ç©º")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<template>Â Â \n   <divÂ id=\"home\">è¿™é‡Œæ˜¯é¦–é¡µ</div>\n</template>\n\n<script>Â Â \n exportÂ defaultÂ {Â Â Â Â \n   mounted()Â {Â Â Â Â Â Â \n     window.testÂ =Â {Â Â Â Â Â Â Â Â \n        //Â æ­¤å¤„åœ¨å…¨å±€windowå¯¹è±¡ä¸­å¼•ç”¨äº†æœ¬é¡µé¢çš„domå¯¹è±¡Â \n       Â name:Â 'home',Â Â Â Â Â Â Â Â \n        node:Â document.getElementById('home')Â Â Â Â Â \n      }Â Â Â Â \n    }Â Â \n  }\n<\/script>\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ¡ˆ")]),e._v("ï¼šåœ¨é¡µé¢å¸è½½çš„æ—¶å€™é¡ºä¾¿å¤„ç†æ‰è¯¥åº”ç”¨ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("destroyedÂ ()Â {Â \n   //Â é¡µé¢å¸è½½çš„æ—¶å€™è§£é™¤å¼•ç”¨\n  Â window.testÂ =Â nullÂ \n}\n\n")])])]),n("h2",{attrs:{id:"ç›‘å¬åœ¨window-bodyç­‰äº‹ä»¶æ²¡æœ‰è§£ç»‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘å¬åœ¨window-bodyç­‰äº‹ä»¶æ²¡æœ‰è§£ç»‘"}},[e._v("#")]),e._v(" ç›‘å¬åœ¨window/bodyç­‰äº‹ä»¶æ²¡æœ‰è§£ç»‘")]),e._v(" "),n("p",[e._v("ç‰¹åˆ«æ³¨æ„window.addEventListenerä¹‹ç±»çš„æ—¶é—´ç›‘å¬")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<template>\n  <div id=\"home\">\n   è¿™é‡Œæ˜¯é¦–é¡µ\n  </div>\n</template>\n\n<script>\n exportÂ defaultÂ {\n   mountedÂ ()Â {Â Â \n     //Â windowå¯¹è±¡å¼•ç”¨äº†homeé¡µé¢çš„æ–¹æ³•\n     window.addEventListener('resize',Â this.func)\n    }\n  }\n<\/script>\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼šåœ¨é¡µé¢é”€æ¯çš„æ—¶å€™ï¼Œé¡ºä¾¿è§£é™¤å¼•ç”¨ï¼Œé‡Šæ”¾å†…å­˜ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mountedÂ ()Â {Â Â \n  window.addEventListener('resize',Â this.func)\n},\nbeforeDestroyÂ ()Â {Â \n  window.removeEventListener('resize',Â this.func)\n}\n\n")])])]),n("h2",{attrs:{id:"ç»‘åœ¨eventbusçš„äº‹ä»¶æ²¡æœ‰è§£ç»‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘åœ¨eventbusçš„äº‹ä»¶æ²¡æœ‰è§£ç»‘"}},[e._v("#")]),e._v(" ç»‘åœ¨EventBusçš„äº‹ä»¶æ²¡æœ‰è§£ç»‘")]),e._v(" "),n("p",[e._v("ä¸¾ä¸ªç²’å­ğŸŒ°")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<template>Â Â \n  <divÂ id=\"home\">è¿™é‡Œæ˜¯é¦–é¡µ</div>\n</template>\n <script>\n  exportÂ defaultÂ {Â Â \n    mountedÂ ()Â {Â Â Â \n       this.$EventBus.$on('homeTask',Â resÂ =>Â this.func(res))Â Â \n    }}\n<\/script>\n")])])]),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼šåœ¨é¡µé¢å¸è½½çš„æ—¶å€™ä¹Ÿå¯ä»¥è€ƒè™‘å¼•ç”¨")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mountedÂ ()Â {Â \n   this.$EventBus.$on('homeTask',Â resÂ =>Â this.func(res))\n},\n\ndestroyedÂ ()Â {Â \n   this.$EventBus.$off()\n}\n")])])]),n("h2",{attrs:{id:"echarts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#echarts"}},[e._v("#")]),e._v(" Echarts")]),e._v(" "),n("p",[e._v("æ¯ä¸€ä¸ªå›¾ä¾‹åœ¨æ²¡æœ‰æ•°æ®çš„æ—¶å€™å®ƒä¼šåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨å»æ¸²æŸ“æ°”æ³¡ï¼Œé¡µé¢åˆ‡æ¢åï¼Œecharts å›¾ä¾‹æ˜¯é”€æ¯äº†ï¼Œä½†æ˜¯è¿™ä¸ª echarts çš„å®ä¾‹è¿˜åœ¨å†…å­˜å½“ä¸­ï¼ŒåŒæ—¶å®ƒçš„æ°”æ³¡æ¸²æŸ“å®šæ—¶å™¨è¿˜åœ¨è¿è¡Œã€‚è¿™å°±å¯¼è‡´ Echarts å ç”¨ CPU é«˜ï¼Œå¯¼è‡´æµè§ˆå™¨å¡é¡¿ï¼Œå½“æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ç”šè‡³æµè§ˆå™¨å´©æºƒã€‚")]),e._v(" "),n("p",[n("code",[e._v("è§£å†³æ–¹æ³•")]),e._v("ï¼šåŠ ä¸€ä¸ª beforeDestroy()æ–¹æ³•é‡Šæ”¾è¯¥é¡µé¢çš„ chart èµ„æºï¼Œæˆ‘ä¹Ÿè¯•è¿‡ä½¿ç”¨ dispose()æ–¹æ³•ï¼Œä½†æ˜¯ dispose é”€æ¯è¿™ä¸ªå›¾ä¾‹ï¼Œå›¾ä¾‹æ˜¯ä¸å­˜åœ¨äº†ï¼Œä½†å›¾ä¾‹çš„ resize()æ–¹æ³•ä¼šå¯åŠ¨ï¼Œåˆ™ä¼šæŠ¥æ²¡æœ‰ resize è¿™ä¸ªæ–¹æ³•ï¼Œè€Œ clear()æ–¹æ³•åˆ™æ˜¯æ¸…ç©ºå›¾ä¾‹æ•°æ®ï¼Œä¸å½±å“å›¾ä¾‹çš„ resizeï¼Œè€Œä¸”èƒ½å¤Ÿé‡Šæ”¾å†…å­˜ï¼Œåˆ‡æ¢çš„æ—¶å€™å°±å¾ˆé¡ºç•…äº†")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("beforeDestroyÂ ()Â {Â Â this.chart.clear()}\n\n")])])]),n("h2",{attrs:{id:"v-if-æŒ‡ä»¤äº§ç”Ÿçš„å†…å­˜æ³„éœ²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#v-if-æŒ‡ä»¤äº§ç”Ÿçš„å†…å­˜æ³„éœ²"}},[e._v("#")]),e._v(" v-if æŒ‡ä»¤äº§ç”Ÿçš„å†…å­˜æ³„éœ²")]),e._v(" "),n("p",[e._v("v-if ç»‘å®šåˆ° false çš„å€¼ï¼Œä½†æ˜¯å®é™…ä¸Š dom å…ƒç´ åœ¨éšè—çš„æ—¶å€™æ²¡æœ‰è¢«çœŸå®çš„é‡Šæ”¾æ‰ã€‚")]),e._v(" "),n("p",[e._v("æ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åŠ è½½äº†ä¸€ä¸ªå¸¦æœ‰éå¸¸å¤šé€‰é¡¹çš„é€‰æ‹©æ¡†ï¼Œç„¶åæˆ‘ä»¬ç”¨åˆ°äº†ä¸€ä¸ªæ˜¾ç¤º/éšè—æŒ‰é’®ï¼Œé€šè¿‡ä¸€ä¸ª v-if æŒ‡ä»¤ä»è™šæ‹Ÿ DOM ä¸­æ·»åŠ æˆ–ç§»é™¤å®ƒã€‚è¿™ä¸ªç¤ºä¾‹çš„é—®é¢˜åœ¨äºè¿™ä¸ª v-if æŒ‡ä»¤ä¼šä» DOM ä¸­ç§»é™¤çˆ¶çº§å…ƒç´ ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰æ¸…é™¤ç”± Choices.js æ–°æ·»åŠ çš„ DOM ç‰‡æ®µï¼Œä»è€Œå¯¼è‡´äº†å†…å­˜æ³„æ¼ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<divÂ id="app">\nÂ Â <buttonÂ v-if="showChoices"Â @click="hide">Hide</button>\nÂ Â <buttonÂ v-if="!showChoices"Â @click="show">Show</button>Â Â \n  <divÂ v-if="showChoices" />\n</div>\n\n<script>Â Â \nexportÂ defaultÂ {Â Â Â Â \n  data()Â {Â Â Â Â Â Â \n    returnÂ {Â Â Â Â Â Â Â Â \n             showChoices:Â true,\n      Â Â Â Â Â Â }Â Â Â Â \n      },Â Â Â Â \n  mounted:Â functionÂ ()Â {\n    Â Â Â Â Â Â this.initializeChoices()\n    Â },Â Â Â Â \n  methods:Â {Â Â Â Â Â Â \n    initializeChoices:Â functionÂ ()Â {Â \n      //Â æˆ‘ä»¬æ¥ä¸ºé€‰æ‹©æ¡†è½½å…¥å¾ˆå¤šé€‰é¡¹ï¼Œè¿™æ ·çš„è¯å®ƒä¼šå ç”¨\n      letÂ listÂ =Â []Â \n    }\n  }Â \n}Â Â \n<\/script>Â Â Â Â \n')])])]),n("p",[e._v("åœ¨ä¸Šè¿°çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ hide() æ–¹æ³•åœ¨å°†é€‰æ‹©æ¡†ä» DOM ä¸­ç§»é™¤ä¹‹å‰åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œæ¥è§£å†³å†…å­˜æ³„éœ²é—®é¢˜ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¼šåœ¨ Vue å®ä¾‹çš„æ•°æ®å¯¹è±¡ä¸­ä¿ç•™ä¸€ä¸ªå±æ€§ï¼Œå¹¶ä¼šä½¿ç”¨ Choices API ä¸­çš„ destroy() æ–¹æ³•å°†å…¶æ¸…é™¤ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<divÂ id="app">Â Â \n<buttonÂ v-if="showChoices"Â @click="hide">Hide</button>Â \nÂ <buttonÂ v-if="!showChoices"Â @click="show">Show</button>Â \nÂ <divÂ v-if="showChoices">Â Â Â \nÂ <selectÂ id="choices-single-default"></select>Â \nÂ </div>\n</div>\n <script>Â Â \n exportÂ defaultÂ {Â Â Â Â \n   data()Â {Â Â Â Â Â Â \n     returnÂ {Â Â Â Â Â Â Â \n          Â showChoices:Â true,Â Â Â Â Â Â Â \n          Â choicesSelect:Â nullÂ Â Â Â Â \n       Â }Â Â Â Â \n       },Â Â Â Â \n  mounted:Â functionÂ ()Â {\n    this.initializeChoices()Â Â Â Â \n  },Â Â Â Â \n  methods:Â {Â Â Â Â Â Â \n    initializeChoices:Â functionÂ ()Â {\n        letÂ listÂ =Â []Â Â Â Â Â Â Â Â \n        forÂ (letÂ iÂ =Â 0;Â iÂ <Â 1000;Â i++)Â {Â \n            list.push({Â Â Â Â Â Â Â Â Â Â Â Â \n                label:Â \'ItemÂ \'Â +Â i,\n                value:Â i,Â Â Â Â Â Â Â Â Â \n               })Â Â Â Â Â Â Â Â \n            }Â Â Â Â Â Â Â Â Â \n    //Â åœ¨æˆ‘ä»¬çš„Â VueÂ å®ä¾‹çš„æ•°æ®å¯¹è±¡ä¸­è®¾ç½®ä¸€ä¸ªÂ `choicesSelect`Â çš„å¼•ç”¨this.choicesSelectÂ =Â newÂ Choices("#choices-single-default",Â {\n      Â searchEnabled:Â true,\n      Â removeItemButton:Â true,Â Â Â Â Â Â Â Â Â \n       choices:Â list,Â Â Â Â Â Â Â \n      })Â Â Â Â Â \n    },Â Â Â Â Â Â \n    show:Â functionÂ ()Â {Â Â Â Â Â Â Â \n       this.showChoicesÂ =Â trueÂ Â Â Â Â Â Â Â \n       this.$nextTick(()Â =>Â {\n           this.initializeChoices()Â Â Â Â Â Â Â \n          })Â Â Â Â Â Â \n        },Â Â Â Â Â \n    hide:Â functionÂ ()Â {Â Â \n    //Â ç°åœ¨æˆ‘ä»¬å¯ä»¥è®©Â ChoicesÂ ä½¿ç”¨è¿™ä¸ªå¼•ç”¨ï¼Œä»Â DOMÂ ä¸­ç§»é™¤è¿™äº›å…ƒç´ ä¹‹å‰è¿›è¡Œæ¸…ç†å·¥ä½œÂ Â Â this.choicesSelect.destroy()Â Â Â Â Â Â Â Â \n       this.showChoicesÂ =Â falseÂ Â Â Â Â \n      Â }\n<\/script>\n')])])]),n("h2",{attrs:{id:"es6é˜²æ­¢å†…å­˜æ³„éœ²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#es6é˜²æ­¢å†…å­˜æ³„éœ²"}},[e._v("#")]),e._v(" ES6é˜²æ­¢å†…å­˜æ³„éœ²")]),e._v(" "),n("p",[e._v("å‰é¢è¯´è¿‡ï¼ŒåŠæ—¶æ¸…é™¤å¼•ç”¨éå¸¸é‡è¦ã€‚ä½†æ˜¯ï¼Œä½ ä¸å¯èƒ½è®°å¾—é‚£ä¹ˆå¤šï¼Œæœ‰æ—¶å€™ä¸€ç–å¿½å°±å¿˜äº†ï¼Œæ‰€ä»¥æ‰æœ‰é‚£ä¹ˆå¤šå†…å­˜æ³„æ¼ã€‚\nES6 è€ƒè™‘åˆ°è¿™ç‚¹ï¼Œæ¨å‡ºäº†ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„ï¼šweakset å’Œ weakmap ã€‚ä»–ä»¬å¯¹å€¼çš„å¼•ç”¨éƒ½æ˜¯ä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("  constÂ wmÂ =Â newÂ WeakMap()\n  constÂ elementÂ =Â document.getElementById('example')\n  vm.set(element,Â 'something')\n  vm.get(element)\n")])])]),n("p",[e._v("ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆæ–°å»ºä¸€ä¸ª Weakmap å®ä¾‹ã€‚ç„¶åï¼Œå°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºé”®åå­˜å…¥è¯¥å®ä¾‹ï¼Œå¹¶å°†ä¸€äº›é™„åŠ ä¿¡æ¯ä½œä¸ºé”®å€¼ï¼Œä¸€èµ·å­˜æ”¾åœ¨ WeakMap é‡Œé¢ã€‚è¿™æ—¶ï¼ŒWeakMap é‡Œé¢å¯¹ element çš„å¼•ç”¨å°±æ˜¯å¼±å¼•ç”¨ï¼Œä¸ä¼šè¢«è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚\næ³¨å†Œç›‘å¬äº‹ä»¶çš„ listener å¯¹è±¡å¾ˆé€‚åˆç”¨ WeakMap æ¥å®ç°ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//Â ä»£ç \n1.ele.addEventListener('click',Â handler,Â false) \n//Â ä»£ç \n2.constÂ listenerÂ =Â newÂ WeakMap()\n  listener.set(ele,Â handler)\n  ele.addEventListener('click',Â listener.get(ele),Â false)\n")])])]),n("p",[e._v("ä»£ç  2 æ¯”èµ·ä»£ç  1 çš„å¥½å¤„æ˜¯ï¼šç”±äºç›‘å¬å‡½æ•°æ˜¯æ”¾åœ¨ WeakMap é‡Œé¢ï¼Œä¸€æ—¦ dom å¯¹è±¡ ele æ¶ˆå¤±ï¼Œä¸å®ƒç»‘å®šçš„ç›‘å¬å‡½æ•° handler ä¹Ÿä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚")])])}),[],!1,null,null,null);t.default=s.exports}}]);